
Installing kubuntu 15.10 on Acer Aspire V Nitro Black Edition VN7-592G-757F
---------------------------------------------------------------------------

Download the latest kubuntu:

  http://www.kubuntu.org/getkubuntu/

Check the SHA256 sum:

  sha256sum kubuntu-15.10-desktop-amd64.iso

Create an installation usb:

  sudo dd if=kubuntu-15.10-desktop-amd64.iso of=/dev/sdb
  
Bios configuration:
  
  Press F2 to enter the BIOS setup.
  
  Main menu:
   - Network Boot: Disabled
   - F12 Boot Menu: Enabled
   - Wake on Lan: Disabled
   - Touchpad: Basic
   - Lid Open Resume: Disabled
  
  Boot menu:
   - Boot Mode: UEFI
   - Secure Boot: Enabled
   
  Save and restart
 
Press F12 to start the Boot Manager and select the General USB Flash Disk.

In GRUB select 'Start Kubuntu', but first set the boot parameters pressing the 'e' letter.
We need to run GRUB with the boot option 'nomodeset'. Press ctr+x to boot.

Install kubuntu following the default steps. Reboot if everything went fine.

Remove the USB when asked and press enter. If nothing happens simply reboot the laptop.

The boot will probably fail. We need to reboot and press F2 to enter the BIOS again.

In the Security menu enter the 'Select an UEFI file as trusted for executing' menu.
Select the shimx64.efi file and give it a name (e.g. Ubuntu). Save and exit.

Luckily we will end up in GRUB again. We need to select Ubuntu and use the 'nomodeset' option.

Just after we login, we should remove the Bluetooth from the System Tray (inside System Tray 
Settings). It can create problems and freeze the screen.

Update the system. This seems to produce some problems with the sleep mode and screen
brightness control, because they were working before. Probably is produced by an update
of the linux kernel.

At the same time modify the GRUB file '/etc/default/grub' to set the 'nomodeset' boot
option by default.

  GRUB_CMDLINE_LINUX_DEFAULT="quiet splash nomodeset‚Äù

Don't forget to update GRUB:

  sudo update-grub
  
Next step is to make the wifi work. We need to do the following:

  sudo rm /lib/firmware/ath10k/QCA6174/hw3.0/* 
  sudo wget -O /lib/firmware/ath10k/QCA6174/hw3.0/board.bin https://github.com/FireWalkerX/ath10k-firmware/blob/7e56cbb94182a2fdab110cf5bfeded8fd1d44d30/QCA6174/hw3.0/board-2.bin?raw=true
  sudo wget -O /lib/firmware/ath10k/QCA6174/hw3.0/firmware-5.bin https://github.com/FireWalkerX/ath10k-firmware/blob/7e56cbb94182a2fdab110cf5bfeded8fd1d44d30/QCA6174/hw3.0/firmware-4.bin_WLAN.RM.2.0-00180-QCARMSWPZ-1?raw=true
  sudo chmod +x /lib/firmware/ath10k/QCA6174/hw3.0/*

After this the wifi should be working. Maybe it needs a reboot.

Install some additional software:

  sudo apt-get install aptitude
  sudo aptitude update
  sudo aptitude install zile yakuake texlive texlive-lang-spanish r-base inkscape saods9 gv filezilla thunderbird vlc openshot kruler openjdk-8-jdk
  sudo aptitude install python-scipy python3-scipy python-numpy python3-numpy python-matplotlib python3-matplotlib ipython ipython3
  
Install oracle java 7 and 8:

  sudo add-apt-repository ppa:webupd8team/java
  sudo aptitude update
  sudo aptitude install oracle-java7-installer oracle-java8-installer

We can optionally install the linux kernel 4.3.3. In my case this solves the brightness and sleep
mode problems:

  cd ~/admin
  mkdir kernel
  cd kernel
  mkdir 4.3.3
  cd 4.3.3
  wget kernel.ubuntu.com/~kernel-ppa/mainline/v4.3.3-wily/linux-headers-4.3.3-040303_4.3.3-040303.201512150130_all.deb \
       kernel.ubuntu.com/~kernel-ppa/mainline/v4.3.3-wily/linux-headers-4.3.3-040303-generic_4.3.3-040303.201512150130_amd64.deb \
       kernel.ubuntu.com/~kernel-ppa/mainline/v4.3.3-wily/linux-image-4.3.3-040303-generic_4.3.3-040303.201512150130_amd64.deb
  sudo dpkg -i linux-headers-4.3*.deb linux-image-4.3*.deb
  
And if we want to remove it:

  sudo apt-get remove linux-headers-4.3* linux-image-4.3*

If the system reboots correctly with the new kernel, we can eliminate the 'nomodeset' option from 
the GRUB parameters file '/etc/default/grub'. After that we should be able to modify the screen brightness

In case we install the nvidia drivers and we need to remove them because the system crashes,
we should do the following:

  sudo aptitude purge nvidia-352
  sudo aptitude install xserver-xorg-video-nouveau

Install some enegy saving programs:

  sudo aptitude install powertop
  sudo aptitude install tlp

If we want to stop akonadi and mysql:

  akonadictl stop
  sudo service mysql status

Useful links:

  https://bbs.archlinux.org/viewtopic.php?id=206517
  https://notdefine.de/projects.php?project=Linux_on_Acer_Aspire_VN7-592G
  http://ubuntuforums.org/showthread.php?t=1613132
  http://www.webupd8.org/2012/09/install-oracle-java-8-in-ubuntu-via-ppa.html
  http://linuxdaddy.com/blog/install-kernel-4-3-on-ubuntu/
